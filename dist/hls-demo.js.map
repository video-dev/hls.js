{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ba095adf7adf089f183a","webpack:///./demo/main.js","webpack:///./demo/demo-utils.js","webpack:///./tests/test-streams.js"],"names":["testStreams","require","defaultTestStreamUrl","url","sourceURL","decodeURIComponent","getURLParam","demoConfig","JSON","parse","atob","enableStreaming","getDemoConfigPropOrDefault","autoRecoverError","enableWorker","levelCapping","limitMetrics","defaultAudioCodec","undefined","widevineLicenseUrl","dumpfMP4","bufferingIdx","selectedTestStream","video","$","startTime","Date","now","lastSeekingIdx","lastStartPosition","lastDuration","lastAudioTrackSwitchingIdx","hls","events","stats","tracks","fmp4Data","document","ready","Object","keys","forEach","key","stream","option","Option","description","append","change","val","streamUrl","loadSelectedStream","width","click","checked","onDemoConfigChanged","value","prop","Hls","version","html","volume","hideAllTabs","toggle","windowSliding","setupGlobals","window","t0","performance","load","buffer","level","bitrate","recoverDecodingErrorDate","recoverSwapAudioCodecDate","onClickBufferedRange","updateLevelInfo","createfMP4","goToMetricsPermaLink","toggleTab","trimArray","target","limit","length","shift","trimEventHistory","x","isSupported","handleUnsupported","hideCanvas","destroy","bufferTimer","clearInterval","logStatus","unescape","hlsConfig","debug","config","console","log","emeEnabled","loadSource","autoLevelCapping","attachMedia","on","Events","MEDIA_ATTACHED","push","time","type","MEDIA_DETACHED","FRAG_PARSING_INIT_SEGMENT","event","data","showCanvas","id","FRAG_PARSING_METADATA","LEVEL_SWITCHING","Math","round","levels","MANIFEST_PARSED","name","start","end","trequest","latency","tfirst","tload","duration","refreshCanvas","levelNb","levelParsed","AUDIO_TRACKS_UPDATED","audioTracks","updateAudioTrackInfo","AUDIO_TRACK_SWITCHING","AUDIO_TRACK_SWITCHED","LEVEL_LOADED","isLive","details","live","startSN","endSN","parsing","tparsed","parsingDuration","sumLevelParsingMs","levelParsingUs","AUDIO_TRACK_LOADED","FRAG_BUFFERED","frag","id2","sn","tbuffered","bw","total","size","pos","setInterval","checkBuffer","process","fragBuffered","fragMinLatency","min","fragMaxLatency","max","fragMinProcess","fragMaxProcess","fragMinKbps","fragMaxKbps","autoLevelCappingMin","autoLevelCappingMax","fragBufferedBytes","sumLatency","sumKbps","sumProcess","sumParsing","fraglastLatency","fragAvgLatency","fragLastProcess","fragAvgProcess","fragLastKbps","fragAvgKbps","fragparsingKbps","fragparsingMs","autoLevelCappingLast","LEVEL_SWITCHED","FRAG_CHANGED","tagList","autoLevel","levelStart","fragChangedAuto","autoLevelMin","autoLevelMax","levelLastAuto","autoLevelLast","autoLevelSwitch","sumAutoLevel","autoLevelAvg","fragChangedManual","manualLevelMin","manualLevelMax","manualLevelLast","manualLevelSwitch","FRAG_LOAD_EMERGENCY_ABORTED","fragLoadEmergencyAborted","FRAG_DECRYPTED","fragDecrypted","totalDecryptTime","fragAvgDecryptTime","tdecrypt","tstart","ERROR","warn","ErrorDetails","MANIFEST_LOAD_ERROR","context","response","code","text","err","MANIFEST_LOAD_TIMEOUT","logError","MANIFEST_PARSING_ERROR","reason","LEVEL_LOAD_ERROR","LEVEL_LOAD_TIMEOUT","LEVEL_SWITCH_ERROR","FRAG_LOAD_ERROR","FRAG_LOAD_TIMEOUT","FRAG_LOOP_LOADING_ERROR","FRAG_DECRYPT_ERROR","FRAG_PARSING_ERROR","KEY_LOAD_ERROR","decryptdata","uri","KEY_LOAD_TIMEOUT","BUFFER_APPEND_ERROR","BUFFER_ADD_CODEC_ERROR","mimeType","message","BUFFER_APPENDING_ERROR","BUFFER_STALLED_ERROR","fatal","ErrorTypes","MEDIA_ERROR","handleMediaError","NETWORK_ERROR","fatalError","stringify","sortObject","BUFFER_CREATED","BUFFER_APPENDING","FPS_DROP","evt","currentDropped","currentDecoded","fpsDropEvent","fpsTotalDroppedFrames","totalDroppedFrames","addEventListener","handleVideoEvent","navigator","userAgent","toLowerCase","indexOf","videoWidth","videoHeight","currentTime","errorTxt","mediaError","currentTarget","error","MEDIA_ERR_ABORTED","MEDIA_ERR_DECODE","MEDIA_ERR_NETWORK","MEDIA_ERR_SRC_NOT_SUPPORTED","recoverMediaError","swapAudioCodec","timeRangesToString","r","i","v","canvas","ctx","getContext","buffered","bufferingDuration","fillStyle","fillRect","height","clientWidth","bufferLen","paused","bufEvents","bufEventLen","event0","event1","slopeBuf0","slopeBuf1","slopePos0","slopePos1","abs","pop","seekable","played","media","videoPlaybackQuality","getVideoPlaybackQuality","Function","droppedVideoFrames","corruptedVideoFrames","webkitDroppedFrameCount","showMetrics","show","hideMetrics","hide","getMetrics","json","jsonpacked","jsonpack","pack","btoa","copyMetricsToClipBoard","copyTextToClipboard","goToMetrics","URL","substr","lastIndexOf","open","b64","minsecs","ts","m","floor","s","clientX","offsetLeft","button_template","button_enabled","button_disabled","html1","autoLevelEnabled","html2","html3","html4","currentLevel","levelName","label","level2label","loadLevel","nextLevel","audioTrackId","audioTrack","len","index","propName","defaultVal","sParam","defaultValue","sPageURL","location","search","substring","sURLVariables","split","sParameterName","escape","serializedDemoConfig","baseURL","permalinkURL","encodeURIComponent","blob","Blob","arrayConcat","filename","toISOString","saveAs","inputArray","totalLength","reduce","prev","cur","result","Uint8Array","offset","element","set","tabElId","appendLog","textElId","el","logText","timestamp","newMessage","obj","temp","sort","textArea","createElement","body","appendChild","select","successful","execCommand","msg","removeChild","createTestStream","abr","blacklist_ua","createTestStreamWithConfig","Error","testStream","module","exports","bbb","nudgeMaxRetry","bigBuckBunny480p","arte","deltatreDAI","issue666","issue649","closedCaptions","oceansAES","bbbAES","mp3Audio","mpegAudioOnly","fmp4","fmp4Bitmovin","offset_pts","uspHLSAteam","angelOneShakaWidevine","audioOnlyMultipleLevels"],"mappings":"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","file":"hls-demo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"HlsDemo\"] = factory();\n\telse\n\t\troot[\"HlsDemo\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ba095adf7adf089f183a","import {sortObject, copyTextToClipboard} from './demo-utils'\n\nconst testStreams = require('../tests/test-streams');\nconst defaultTestStreamUrl = testStreams['bbb'].url;\nconst sourceURL = decodeURIComponent(getURLParam('src', defaultTestStreamUrl))\n\nlet demoConfig = getURLParam('demoConfig', null)\nif (demoConfig) {\n  demoConfig = JSON.parse(atob(demoConfig))\n} else {\n  demoConfig = {}\n}\n\nlet enableStreaming = getDemoConfigPropOrDefault('enableStreaming', true);\nlet autoRecoverError = getDemoConfigPropOrDefault('autoRecoverError', true);\nlet enableWorker = getDemoConfigPropOrDefault('enableWorker', true);\nlet levelCapping = getDemoConfigPropOrDefault('levelCapping', -1);\nlet limitMetrics = getDemoConfigPropOrDefault('limitMetrics', -1);\nlet defaultAudioCodec = getDemoConfigPropOrDefault('defaultAudioCodec', undefined);\nlet widevineLicenseUrl = getDemoConfigPropOrDefault('widevineLicenseURL', undefined);\nlet dumpfMP4 = getDemoConfigPropOrDefault('dumpfMP4', false);\n\nlet bufferingIdx = -1;\nlet selectedTestStream = null;\nlet video = $('#video')[0];\nlet startTime = Date.now()\n\nlet lastSeekingIdx;\nlet lastStartPosition;\nlet lastDuration;\nlet lastAudioTrackSwitchingIdx;\nlet hls;\nlet url;\nlet events;\nlet stats;\nlet tracks;\nlet fmp4Data;\n\n$(document).ready(function() {\n  Object.keys(testStreams).forEach((key) => {\n    const stream = testStreams[key];\n    const option = new Option(stream.description, key);\n    $('#streamSelect').append(option);\n  })\n\n  $('#streamSelect').change(function() {\n    selectedTestStream = testStreams[$('#streamSelect').val()];\n    const streamUrl = selectedTestStream.url;\n    $('#streamURL').val(streamUrl);\n    loadSelectedStream();\n  });\n\n  $('#streamURL').change(function() {\n    selectedTestStream = null;\n    loadSelectedStream();\n  });\n\n  $('#videoSize').change(function() {\n    $('#video').width($('#videoSize').val());\n    $('#bufferedCanvas').width($('#videoSize').val());\n  });\n\n  $('#enableStreaming').click(function() {\n    enableStreaming = this.checked;\n    loadSelectedStream();\n  });\n\n  $('#autoRecoverError').click(function() {\n    autoRecoverError = this.checked;\n    onDemoConfigChanged();\n  });\n\n  $('#enableWorker').click(function() {\n    enableWorker = this.checked;\n    onDemoConfigChanged();\n  });\n\n  $('#dumpfMP4').click(function() {\n    dumpfMP4 = this.checked;\n    onDemoConfigChanged();\n  });\n\n  $('#limitMetrics').change(function() {\n    limitMetrics = this.value;\n    onDemoConfigChanged();\n  })\n\n  $('#levelCapping').change(function() {\n    levelCapping = this.value;\n    onDemoConfigChanged();\n  });\n\n  $('#defaultAudioCodec').change(function() {\n    defaultAudioCodec = this.value;\n    onDemoConfigChanged();\n  });\n\n  $('#limitMetrics').val(limitMetrics);\n  $('#enableStreaming').prop('checked', enableStreaming );\n  $('#autoRecoverError').prop('checked', autoRecoverError );\n  $('#enableWorker').prop('checked', enableWorker );\n  $('#dumpfMP4').prop('checked', dumpfMP4 );\n  $('#levelCapping').val(levelCapping);\n  $('#defaultAudioCodec').val(defaultAudioCodec || 'undefined');\n\n  $('h2').append('&nbsp;<a target=_blank href=https://github.com/video-dev/hls.js/releases/tag/v' + Hls.version + '>v' + Hls.version + '</a>');\n  $('#currentVersion').html('Hls version:' + Hls.version);\n\n  $('#streamURL').val(sourceURL)\n\n  video.volume = 0.05;\n\n  hideAllTabs();\n\n  $('#metricsButtonWindow').toggle(windowSliding);\n  $('#metricsButtonFixed').toggle(!windowSliding);\n\n  loadSelectedStream();\n\n});\n\nfunction setupGlobals() {\n  window.events = events = {\n    url    : url,\n    t0     : performance.now(),\n    load   : [],\n    buffer : [],\n    video  : [],\n    level  : [],\n    bitrate: []\n  };\n\n  // actual values, only on window\n  window.recoverDecodingErrorDate = null;\n  window.recoverSwapAudioCodecDate = null;\n\n  window.fmp4Data = fmp4Data = {\n    'audio': [],\n    'video': []\n  };\n\n  window.onClickBufferedRange = onClickBufferedRange;\n\n  window.updateLevelInfo = updateLevelInfo;\n  window.onDemoConfigChanged = onDemoConfigChanged;\n  window.createfMP4 = createfMP4;\n  window.goToMetricsPermaLink = goToMetricsPermaLink;\n  window.toggleTab = toggleTab;\n  window.onDemoConfigChanged = onDemoConfigChanged;\n}\n\nfunction trimArray( target, limit ) {\n  if( limit < 0 ) {\n    return;\n  }\n\n  while(target.length > limit )\n  {\n    target.shift();\n  }\n}\n\nfunction trimEventHistory() {\n  const x = limitMetrics;\n\n  if(x < 0) {\n    return;\n  }\n\n  trimArray(events.load, x);\n  trimArray(events.buffer, x);\n  trimArray(events.video, x);\n  trimArray(events.level, x);\n  trimArray(events.bitrate, x);\n}\n\nfunction loadSelectedStream() {\n\n  if (!Hls.isSupported()) {\n    handleUnsupported();\n    return;\n  }\n\n  url = $('#streamURL').val()\n\n  setupGlobals();\n  hideCanvas();\n\n  if(hls) {\n    hls.destroy();\n    if(hls.bufferTimer) {\n      clearInterval(hls.bufferTimer);\n      hls.bufferTimer = undefined;\n    }\n    hls = null;\n  }\n\n  if(!enableStreaming) {\n    logStatus('Streaming disabled');\n    return;\n  }\n\n  logStatus('Loading ' + url);\n\n  if (widevineLicenseUrl) {\n    widevineLicenseUrl = unescape(widevineLicenseUrl)\n  }\n\n  const hlsConfig = {\n    debug            : true,\n    enableWorker     : enableWorker,\n    defaultAudioCodec: defaultAudioCodec,\n    widevineLicenseUrl: widevineLicenseUrl\n  };\n\n  if (selectedTestStream && selectedTestStream.config) {\n    Object.assign(hlsConfig, selectedTestStream.config)\n    console.log('Using Hls.js config:', hlsConfig);\n  }\n\n  if (hlsConfig.widevineLicenseUrl) {\n    $('#widevineLicenseUrl').val(hlsConfig.widevineLicenseUrl);\n  }\n\n  widevineLicenseUrl = hlsConfig.widevineLicenseUrl = $('#widevineLicenseUrl').val();\n\n  if (hlsConfig.widevineLicenseUrl) {\n    hlsConfig.emeEnabled = true;\n  }\n\n  onDemoConfigChanged();\n\n  window.hls = hls = new Hls(hlsConfig);\n\n  logStatus('Loading manifest and attaching video element...');\n\n  hls.loadSource(url);\n  hls.autoLevelCapping = levelCapping;\n  hls.attachMedia(video);\n\n  hls.on(Hls.Events.MEDIA_ATTACHED, function() {\n    logStatus('Media element attached');\n    bufferingIdx = -1;\n    events.video.push({\n      time: performance.now() - events.t0,\n      type: 'Media attached'\n    });\n    trimEventHistory();\n  });\n\n  hls.on(Hls.Events.MEDIA_DETACHED, function() {\n    logStatus('Media element detached');\n    bufferingIdx = -1;\n    tracks = [];\n    events.video.push({\n      time: performance.now() - events.t0,\n      type: 'Media detached'\n    });\n    trimEventHistory();\n  });\n\n  hls.on(Hls.Events.FRAG_PARSING_INIT_SEGMENT, function(event, data) {\n    showCanvas();\n    var event = {\n      time: performance.now() - events.t0,\n      type: data.id + ' init segment'\n    };\n    events.video.push(event);\n    trimEventHistory();\n  });\n\n  hls.on(Hls.Events.FRAG_PARSING_METADATA, function(event, data) {\n    //console.log(\"Id3 samples \", data.samples);\n  });\n\n  hls.on(Hls.Events.LEVEL_SWITCHING, function(event, data) {\n    events.level.push({\n      time   : performance.now() - events.t0,\n      id     : data.level,\n      bitrate: Math.round(hls.levels[data.level].bitrate/1000)\n    });\n    trimEventHistory();\n    updateLevelInfo();\n  });\n\n  hls.on(Hls.Events.MANIFEST_PARSED, function(event, data) {\n    var event = {\n      type    : 'manifest',\n      name    : '',\n      start   : 0,\n      end     : data.levels.length,\n      time    : data.stats.trequest - events.t0,\n      latency : data.stats.tfirst - data.stats.trequest,\n      load    : data.stats.tload - data.stats.tfirst,\n      duration: data.stats.tload - data.stats.tfirst,\n    };\n    events.load.push(event);\n    trimEventHistory();\n    refreshCanvas();\n  });\n\n  hls.on(Hls.Events.MANIFEST_PARSED, function(event, data) {\n    logStatus('No of quality levels found: ' + hls.levels.length);\n    logStatus('Manifest successfully loaded');\n    stats = {\n      levelNb    : data.levels.length,\n      levelParsed: 0\n    };\n    trimEventHistory();\n    updateLevelInfo();\n  });\n\n  hls.on(Hls.Events.AUDIO_TRACKS_UPDATED, function(event, data) {\n    logStatus('No of audio tracks found: ' + data.audioTracks.length);\n    updateAudioTrackInfo();\n  });\n\n  hls.on(Hls.Events.AUDIO_TRACK_SWITCHING, function(event, data) {\n    logStatus('Audio track switching...');\n    updateAudioTrackInfo();\n    var event = {\n      time: performance.now() - events.t0,\n      type: 'audio switching',\n      name: '@' + data.id\n    };\n    events.video.push(event);\n    trimEventHistory();\n    lastAudioTrackSwitchingIdx = events.video.length-1;\n  });\n\n  hls.on(Hls.Events.AUDIO_TRACK_SWITCHED, function(event, data) {\n    logStatus('Audio track switched');\n    updateAudioTrackInfo();\n    var event = {\n      time: performance.now() - events.t0,\n      type: 'audio switched',\n      name: '@' + data.id\n    };\n    if (lastAudioTrackSwitchingIdx !== undefined) {\n      events.video[lastAudioTrackSwitchingIdx].duration = event.time - events.video[lastAudioTrackSwitchingIdx].time;\n      lastAudioTrackSwitchingIdx = undefined;\n    }\n    events.video.push(event);\n    trimEventHistory();\n  });\n\n  hls.on(Hls.Events.LEVEL_LOADED, function(event, data) {\n    events.isLive = data.details.live;\n    var event = {\n      type    : 'level',\n      id      : data.level,\n      start   : data.details.startSN,\n      end     : data.details.endSN,\n      time    : data.stats.trequest - events.t0,\n      latency : data.stats.tfirst - data.stats.trequest,\n      load    : data.stats.tload - data.stats.tfirst,\n      parsing : data.stats.tparsed - data.stats.tload,\n      duration: data.stats.tload - data.stats.tfirst\n    };\n    const parsingDuration = data.stats.tparsed - data.stats.tload;\n    if (stats.levelParsed)\n    {this.sumLevelParsingMs += parsingDuration;}\n    else\n    {this.sumLevelParsingMs = parsingDuration;}\n\n    stats.levelParsed++;\n    stats.levelParsingUs = Math.round(1000*this.sumLevelParsingMs / stats.levelParsed);\n    console.log('parsing level duration :' + stats.levelParsingUs + 'us,count:' + stats.levelParsed);\n    events.load.push(event);\n    trimEventHistory();\n    refreshCanvas();\n  });\n\n  hls.on(Hls.Events.AUDIO_TRACK_LOADED, function(event, data) {\n    events.isLive = data.details.live;\n    var event = {\n      type    : 'audio track',\n      id      : data.id,\n      start   : data.details.startSN,\n      end     : data.details.endSN,\n      time    : data.stats.trequest - events.t0,\n      latency : data.stats.tfirst - data.stats.trequest,\n      load    : data.stats.tload - data.stats.tfirst,\n      parsing : data.stats.tparsed - data.stats.tload,\n      duration: data.stats.tload - data.stats.tfirst\n    };\n    events.load.push(event);\n    trimEventHistory();\n    refreshCanvas();\n  });\n\n  hls.on(Hls.Events.FRAG_BUFFERED, function(event, data) {\n    var event = {\n      type    : data.frag.type + ' fragment',\n      id      : data.frag.level,\n      id2     : data.frag.sn,\n      time    : data.stats.trequest - events.t0,\n      latency : data.stats.tfirst - data.stats.trequest,\n      load    : data.stats.tload - data.stats.tfirst,\n      parsing : data.stats.tparsed - data.stats.tload,\n      buffer  : data.stats.tbuffered - data.stats.tparsed,\n      duration: data.stats.tbuffered - data.stats.tfirst,\n      bw      : Math.round(8*data.stats.total/(data.stats.tbuffered - data.stats.trequest)),\n      size    : data.stats.total\n    };\n    events.load.push(event);\n    events.bitrate.push({\n      time    : performance.now() - events.t0,\n      bitrate : event.bw,\n      duration: data.frag.duration,\n      level   : event.id\n    });\n    if(hls.bufferTimer === undefined) {\n      events.buffer.push({\n        time  : 0,\n        buffer: 0,\n        pos   : 0\n      });\n      hls.bufferTimer = window.setInterval(checkBuffer, 100);\n    }\n    trimEventHistory();\n    refreshCanvas();\n    updateLevelInfo();\n\n    let latency = data.stats.tfirst - data.stats.trequest,\n      parsing = data.stats.tparsed - data.stats.tload,\n      process = data.stats.tbuffered - data.stats.trequest,\n      bitrate = Math.round(8 * data.stats.length / (data.stats.tbuffered - data.stats.tfirst));\n    if (stats.fragBuffered) {\n      stats.fragMinLatency = Math.min(stats.fragMinLatency, latency);\n      stats.fragMaxLatency = Math.max(stats.fragMaxLatency, latency);\n      stats.fragMinProcess = Math.min(stats.fragMinProcess, process);\n      stats.fragMaxProcess = Math.max(stats.fragMaxProcess, process);\n      stats.fragMinKbps = Math.min(stats.fragMinKbps, bitrate);\n      stats.fragMaxKbps = Math.max(stats.fragMaxKbps, bitrate);\n      stats.autoLevelCappingMin = Math.min(stats.autoLevelCappingMin, hls.autoLevelCapping);\n      stats.autoLevelCappingMax = Math.max(stats.autoLevelCappingMax, hls.autoLevelCapping);\n      stats.fragBuffered++;\n    } else {\n      stats.fragMinLatency = stats.fragMaxLatency = latency;\n      stats.fragMinProcess = stats.fragMaxProcess = process;\n      stats.fragMinKbps = stats.fragMaxKbps = bitrate;\n      stats.fragBuffered = 1;\n      stats.fragBufferedBytes = 0;\n      stats.autoLevelCappingMin = stats.autoLevelCappingMax = hls.autoLevelCapping;\n      this.sumLatency = 0;\n      this.sumKbps = 0;\n      this.sumProcess = 0;\n      this.sumParsing = 0;\n    }\n    stats.fraglastLatency = latency;\n    this.sumLatency += latency;\n    stats.fragAvgLatency = Math.round(this.sumLatency / stats.fragBuffered);\n    stats.fragLastProcess = process;\n    this.sumProcess += process;\n    this.sumParsing += parsing;\n    stats.fragAvgProcess = Math.round(this.sumProcess / stats.fragBuffered);\n    stats.fragLastKbps = bitrate;\n    this.sumKbps += bitrate;\n    stats.fragAvgKbps = Math.round(this.sumKbps / stats.fragBuffered);\n    stats.fragBufferedBytes += data.stats.total;\n    stats.fragparsingKbps = Math.round(8*stats.fragBufferedBytes / this.sumParsing);\n    stats.fragparsingMs = Math.round(this.sumParsing);\n    stats.autoLevelCappingLast = hls.autoLevelCapping;\n  });\n\n  hls.on(Hls.Events.LEVEL_SWITCHED, function(event, data) {\n    var event = {\n      time: performance.now() - events.t0,\n      type: 'level switched',\n      name: data.level\n    };\n    events.video.push(event);\n    trimEventHistory();\n    refreshCanvas();\n    updateLevelInfo();\n  });\n\n  hls.on(Hls.Events.FRAG_CHANGED, function(event, data) {\n    var event = {\n      time: performance.now() - events.t0,\n      type: 'frag changed',\n      name: data.frag.sn + ' @ ' + data.frag.level\n    };\n    events.video.push(event);\n    trimEventHistory();\n    refreshCanvas();\n    updateLevelInfo();\n    stats.tagList = data.frag.tagList;\n\n    let level = data.frag.level, autoLevel = data.frag.autoLevel;\n    if (stats.levelStart === undefined)\n    {stats.levelStart = level;}\n\n    if (autoLevel) {\n      if (stats.fragChangedAuto) {\n        stats.autoLevelMin = Math.min(stats.autoLevelMin, level);\n        stats.autoLevelMax = Math.max(stats.autoLevelMax, level);\n        stats.fragChangedAuto++;\n        if (this.levelLastAuto && level !== stats.autoLevelLast)\n        {stats.autoLevelSwitch++;}\n\n      } else {\n        stats.autoLevelMin = stats.autoLevelMax = level;\n        stats.autoLevelSwitch = 0;\n        stats.fragChangedAuto = 1;\n        this.sumAutoLevel = 0;\n      }\n      this.sumAutoLevel += level;\n      stats.autoLevelAvg = Math.round(1000 * this.sumAutoLevel / stats.fragChangedAuto) / 1000;\n      stats.autoLevelLast = level;\n    } else {\n      if (stats.fragChangedManual) {\n        stats.manualLevelMin = Math.min(stats.manualLevelMin, level);\n        stats.manualLevelMax = Math.max(stats.manualLevelMax, level);\n        stats.fragChangedManual++;\n        if (!this.levelLastAuto && level !== stats.manualLevelLast)\n        {stats.manualLevelSwitch++;}\n\n      } else {\n        stats.manualLevelMin = stats.manualLevelMax = level;\n        stats.manualLevelSwitch = 0;\n        stats.fragChangedManual = 1;\n      }\n      stats.manualLevelLast = level;\n    }\n    this.levelLastAuto = autoLevel;\n  });\n\n  hls.on(Hls.Events.FRAG_LOAD_EMERGENCY_ABORTED, function(event, data) {\n    if (stats) {\n      if (stats.fragLoadEmergencyAborted === undefined)\n      {stats.fragLoadEmergencyAborted = 1;}\n      else\n      {stats.fragLoadEmergencyAborted++;}\n\n    }\n  });\n\n  hls.on(Hls.Events.FRAG_DECRYPTED, function(event, data) {\n    if (!stats.fragDecrypted) {\n      stats.fragDecrypted = 0;\n      this.totalDecryptTime = 0;\n      stats.fragAvgDecryptTime = 0;\n    }\n    stats.fragDecrypted++;\n    this.totalDecryptTime += data.stats.tdecrypt - data.stats.tstart;\n    stats.fragAvgDecryptTime = this.totalDecryptTime / stats.fragDecrypted;\n  });\n\n  hls.on(Hls.Events.ERROR, function(event, data) {\n    console.warn(data);\n    switch(data.details) {\n      case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:\n        try {\n          $('#errorOut').html('Cannot load <a href=\"' + data.context.url + '\">' + url + '</a><br>HTTP response code:' + data.response.code + ' <br>' + data.response.text);\n          if(data.response.code === 0){\n            $('#errorOut').append('This might be a CORS issue, consider installing <a href=\"https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi\">Allow-Control-Allow-Origin</a> Chrome Extension');\n          }\n        } catch(err) {\n          $('#errorOut').html('Cannot load <a href=\"' + data.context.url + '\">' + url + '</a><br>Response body: ' + data.response.text);\n        }\n        break;\n      case Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT:\n        logError('Timeout while loading manifest');\n        break;\n      case Hls.ErrorDetails.MANIFEST_PARSING_ERROR:\n        logError('Error while parsing manifest:' + data.reason);\n        break;\n      case Hls.ErrorDetails.LEVEL_LOAD_ERROR:\n        logError('Error while loading level playlist');\n        break;\n      case Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT:\n        logError('Timeout while loading level playlist');\n        break;\n      case Hls.ErrorDetails.LEVEL_SWITCH_ERROR:\n        logError('Error while trying to switch to level ' + data.level);\n        break;\n      case Hls.ErrorDetails.FRAG_LOAD_ERROR:\n        logError('Error while loading fragment ' + data.frag.url);\n        break;\n      case Hls.ErrorDetails.FRAG_LOAD_TIMEOUT:\n        logError('Timeout while loading fragment ' + data.frag.url);\n        break;\n      case Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR:\n        logError('Fragment-loop loading error');\n        break;\n      case Hls.ErrorDetails.FRAG_DECRYPT_ERROR:\n        logError('Decrypting error:' + data.reason);\n        break;\n      case Hls.ErrorDetails.FRAG_PARSING_ERROR:\n        logError('Parsing error:' + data.reason);\n        break;\n      case Hls.ErrorDetails.KEY_LOAD_ERROR:\n        logError('Error while loading key ' + data.frag.decryptdata.uri);\n        break;\n      case Hls.ErrorDetails.KEY_LOAD_TIMEOUT:\n        logError('Timeout while loading key ' + data.frag.decryptdata.uri);\n        break;\n      case Hls.ErrorDetails.BUFFER_APPEND_ERROR:\n        logError('Buffer append error');\n        break;\n      case Hls.ErrorDetails.BUFFER_ADD_CODEC_ERROR:\n        logError('Buffer add codec error for ' + data.mimeType + ':' + data.err.message);\n        break;\n      case Hls.ErrorDetails.BUFFER_APPENDING_ERROR:\n        logError('Buffer appending error');\n        break;\n      case Hls.ErrorDetails.BUFFER_STALLED_ERROR:\n        logError('Buffer stalled error');\n        break;\n      default:\n        break;\n    }\n    if(data.fatal) {\n      console.log('Fatal error :' + data.details);\n      switch(data.type) {\n        case Hls.ErrorTypes.MEDIA_ERROR:\n          handleMediaError();\n          break;\n        case Hls.ErrorTypes.NETWORK_ERROR:\n          logError('A network error occured');\n          break;\n        default:\n          logError('An unrecoverable error occured');\n          hls.destroy();\n          break;\n      }\n    }\n    if(!stats) {\n      stats = {};\n    }\n    // track all errors independently\n    if (stats[data.details] === undefined)\n    {stats[data.details] = 1;}\n    else\n    {stats[data.details] += 1;}\n\n    // track fatal error\n    if (data.fatal) {\n      if (stats.fatalError === undefined) {\n        stats.fatalError = 1;\n      } else {\n        stats.fatalError += 1;\n      }\n    }\n    $('#statisticsOut').text(JSON.stringify(sortObject(stats), null, '\\t'));\n  });\n\n  hls.on(Hls.Events.BUFFER_CREATED, function(event, data) {\n    tracks = data.tracks;\n  });\n\n  hls.on(Hls.Events.BUFFER_APPENDING, function(event, data) {\n    if (dumpfMP4) {\n      fmp4Data[data.type].push(data.data);\n    }\n  });\n\n  hls.on(Hls.Events.FPS_DROP, function(event, data) {\n    let evt = {\n      time: performance.now() - events.t0,\n      type: 'frame drop',\n      name: data.currentDropped + '/' + data.currentDecoded\n    };\n    events.video.push(evt);\n    trimEventHistory();\n    if (stats) {\n      if (stats.fpsDropEvent === undefined)\n      {stats.fpsDropEvent = 1;}\n      else\n      {stats.fpsDropEvent++;}\n\n      stats.fpsTotalDroppedFrames = data.totalDroppedFrames;\n    }\n  });\n\n  video.addEventListener('resize', handleVideoEvent);\n  video.addEventListener('seeking', handleVideoEvent);\n  video.addEventListener('seeked', handleVideoEvent);\n  video.addEventListener('pause', handleVideoEvent);\n  video.addEventListener('play', handleVideoEvent);\n  video.addEventListener('canplay', handleVideoEvent);\n  video.addEventListener('canplaythrough', handleVideoEvent);\n  video.addEventListener('ended', handleVideoEvent);\n  video.addEventListener('playing', handleVideoEvent);\n  video.addEventListener('error', handleVideoEvent);\n  video.addEventListener('loadedmetadata', handleVideoEvent);\n  video.addEventListener('loadeddata', handleVideoEvent);\n  video.addEventListener('durationchange', handleVideoEvent);\n}\n\nfunction handleUnsupported() {\n  if(navigator.userAgent.toLowerCase().indexOf('firefox') !== -1) {\n    logStatus('You are using Firefox, it looks like MediaSource is not enabled,<br>please ensure the following keys are set appropriately in <b>about:config</b><br>media.mediasource.enabled=true<br>media.mediasource.mp4.enabled=true<br><b>media.mediasource.whitelist=false</b>');\n  } else {\n    logStatus('Your Browser does not support MediaSourceExtension / MP4 mediasource');\n  }\n}\n\nfunction handleVideoEvent(evt) {\n  let data = '';\n  switch(evt.type) {\n    case 'durationchange':\n      if(evt.target.duration - lastDuration <= 0.5) {\n        // some browsers report several duration change events with almost the same value ... avoid spamming video events\n        return;\n      }\n      lastDuration = evt.target.duration;\n      data = Math.round(evt.target.duration*1000);\n      break;\n    case 'resize':\n      data = evt.target.videoWidth + '/' + evt.target.videoHeight;\n      break;\n    case 'loadedmetadata':\n    case 'loadeddata':\n    case 'canplay':\n    case 'canplaythrough':\n    case 'ended':\n    case 'seeking':\n    case 'seeked':\n    case 'play':\n    case 'playing':\n      lastStartPosition = evt.target.currentTime;\n    case 'pause':\n    case 'waiting':\n    case 'stalled':\n    case 'error':\n      data = Math.round(evt.target.currentTime*1000);\n      if(evt.type === 'error') {\n        let errorTxt, mediaError=evt.currentTarget.error;\n        switch(mediaError.code) {\n          case mediaError.MEDIA_ERR_ABORTED:\n            errorTxt = 'You aborted the video playback';\n            break;\n          case mediaError.MEDIA_ERR_DECODE:\n            errorTxt = 'The video playback was aborted due to a corruption problem or because the video used features your browser did not support';\n            handleMediaError();\n            break;\n          case mediaError.MEDIA_ERR_NETWORK:\n            errorTxt = 'A network error caused the video download to fail part-way';\n            break;\n          case mediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:\n            errorTxt = 'The video could not be loaded, either because the server or network failed or because the format is not supported';\n            break;\n        }\n\n        if (mediaError.message) {\n          errorTxt += ' - ' + mediaError.message;\n        }\n\n        logStatus(errorTxt);\n        console.error(errorTxt);\n      }\n      break;\n    default:\n      break;\n  }\n\n  let event = {\n    time: performance.now() - events.t0,\n    type: evt.type,\n    name: data\n  };\n\n  events.video.push(event);\n  if(evt.type === 'seeking') {\n    lastSeekingIdx = events.video.length-1;\n  }\n\n  if(evt.type === 'seeked') {\n    events.video[lastSeekingIdx].duration = event.time - events.video[lastSeekingIdx].time;\n  }\n\n  trimEventHistory();\n}\n\nfunction handleMediaError() {\n  if(autoRecoverError) {\n    let now = performance.now();\n    if(!recoverDecodingErrorDate || (now - recoverDecodingErrorDate) > 3000) {\n      recoverDecodingErrorDate = performance.now();\n      $('#statusOut').append(', trying to recover media error.');\n      hls.recoverMediaError();\n    } else {\n      if(!recoverSwapAudioCodecDate || (now - recoverSwapAudioCodecDate) > 3000) {\n        recoverSwapAudioCodecDate = performance.now();\n        $('#statusOut').append(', trying to swap audio codec and recover media error.');\n        hls.swapAudioCodec();\n        hls.recoverMediaError();\n      } else {\n        $('#statusOut').append(', cannot recover. Last media error recovery failed.');\n      }\n    }\n  }\n}\n\nfunction timeRangesToString(r) {\n  let log = '';\n  for (let i=0; i<r.length; i++) {\n    log += '[' + r.start(i) + ', ' + r.end(i) + ']';\n    log += ' ';\n  }\n  return log;\n}\n\nfunction checkBuffer() {\n  let v = $('#video')[0];\n  let canvas = $('#bufferedCanvas')[0];\n  let ctx = canvas.getContext('2d');\n  let r = v.buffered;\n  let bufferingDuration;\n  ctx.fillStyle = 'black';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  ctx.fillStyle = 'gray';\n  if (r) {\n    if(!canvas.width || canvas.width !== v.clientWidth)\n    {canvas.width = v.clientWidth;}\n\n    var pos = v.currentTime, bufferLen;\n    for (var i=0, bufferLen=0; i<r.length; i++) {\n      let start = r.start(i)/v.duration * canvas.width;\n      let end = r.end(i)/v.duration * canvas.width;\n      ctx.fillRect(start, 3, Math.max(2, end-start), 10);\n      if(pos >= r.start(i) && pos < r.end(i)) {\n        // play position is inside this buffer TimeRange, retrieve end of buffer position and buffer length\n        bufferLen = r.end(i) - pos;\n      }\n    }\n    // check if we are in buffering / or playback ended state\n    if(bufferLen <= 0.1 && v.paused === false && (pos-lastStartPosition) > 0.5) {\n      // don't create buffering event if we are at the end of the playlist, don't report ended for live playlist\n      if(lastDuration -pos <= 0.5  && events.isLive === false) {\n      } else {\n        // we are not at the end of the playlist ... real buffering\n        if(bufferingIdx !== -1) {\n          bufferingDuration = performance.now() - events.t0 - events.video[bufferingIdx].time;\n          events.video[bufferingIdx].duration = bufferingDuration;\n          events.video[bufferingIdx].name = bufferingDuration;\n        } else {\n          events.video.push({\n            type: 'buffering',\n            time: performance.now() - events.t0\n          });\n          trimEventHistory();\n          // we are in buffering state\n          bufferingIdx = events.video.length-1;\n        }\n      }\n    }\n\n    if(bufferLen > 0.1 && bufferingIdx !=-1) {\n      bufferingDuration = performance.now() - events.t0 - events.video[bufferingIdx].time;\n      events.video[bufferingIdx].duration = bufferingDuration;\n      events.video[bufferingIdx].name = bufferingDuration;\n      // we are out of buffering state\n      bufferingIdx = -1;\n    }\n\n    // update buffer/position for current Time\n    let event = {\n      time  : performance.now() - events.t0,\n      buffer: Math.round(bufferLen*1000),\n      pos   : Math.round(pos*1000)\n    };\n    let bufEvents = events.buffer, bufEventLen = bufEvents.length;\n    if(bufEventLen > 1) {\n      let event0 = bufEvents[bufEventLen-2], event1 = bufEvents[bufEventLen-1];\n      let slopeBuf0 = (event0.buffer - event1.buffer)/(event0.time-event1.time);\n      let slopeBuf1 = (event1.buffer - event.buffer)/(event1.time-event.time);\n\n      let slopePos0 = (event0.pos - event1.pos)/(event0.time-event1.time);\n      let slopePos1 = (event1.pos - event.pos)/(event1.time-event.time);\n      // compute slopes. if less than 30% difference, remove event1\n      if((slopeBuf0 === slopeBuf1 || Math.abs(slopeBuf0/slopeBuf1 -1) <= 0.3) &&\n           (slopePos0 === slopePos1 || Math.abs(slopePos0/slopePos1 -1) <= 0.3))\n      {bufEvents.pop();}\n\n    }\n    events.buffer.push(event);\n    trimEventHistory();\n    refreshCanvas();\n\n    let log = 'Duration: '\n              + v.duration + '\\n'\n              + 'Buffered: '\n              + timeRangesToString(v.buffered) + '\\n'\n              + 'Seekable: '\n              + timeRangesToString(v.seekable) + '\\n'\n              + 'Played: '\n              + timeRangesToString(v.played) + '\\n';\n\n    if (hls.media) {\n      for(let type in tracks) {\n        log += 'Buffer for ' + type + ' contains: ' + timeRangesToString(tracks[type].buffer.buffered) + '\\n';\n      }\n\n      const videoPlaybackQuality = v.getVideoPlaybackQuality;\n      if(videoPlaybackQuality && typeof (videoPlaybackQuality) === typeof (Function)) {\n        log += 'Dropped frames: '+ v.getVideoPlaybackQuality().droppedVideoFrames + '\\n';\n        log += 'Corrupted frames:'+ v.getVideoPlaybackQuality().corruptedVideoFrames + '\\n';\n      } else if(v.webkitDroppedFrameCount) {\n        log+='Dropped frames:'+ v.webkitDroppedFrameCount + '\\n';\n      }\n    }\n    $('#bufferedOut').text(log);\n\n    $('#statisticsOut').text(JSON.stringify(sortObject(stats), null, '\\t'));\n\n    ctx.fillStyle = 'blue';\n\n    const x = v.currentTime / v.duration * canvas.width;\n    ctx.fillRect(x, 0, 2, 15);\n  }\n\n}\n\nfunction showCanvas()  {\n  showMetrics();\n  $('#bufferedOut').show();\n  $('#bufferedCanvas').show();\n}\n\nfunction hideCanvas()  {\n  hideMetrics();\n  $('#bufferedOut').hide();\n  $('#bufferedCanvas').hide();\n}\n\nfunction getMetrics() {\n  let json = JSON.stringify(events);\n  let jsonpacked = jsonpack.pack(json);\n  console.log('packing JSON from ' + json.length + ' to ' + jsonpacked.length + ' bytes');\n  return btoa(jsonpacked);\n}\n\nfunction copyMetricsToClipBoard() {\n  copyTextToClipboard(getMetrics());\n}\n\nfunction goToMetrics() {\n  let url = document.URL;\n  url = url.substr(0, url.lastIndexOf('/')+1) + 'metrics.html';\n  console.log(url);\n  window.open(url, '_blank');\n}\n\nfunction goToMetricsPermaLink() {\n  let url = document.URL;\n  let b64 = getMetrics();\n  url = url.substr(0, url.lastIndexOf('/')+1) + 'metrics.html#data=' + b64;\n  console.log(url);\n  window.open(url, '_blank');\n}\n\nfunction minsecs(ts) {\n  let m = Math.floor(Math.floor(ts % 3600) / 60);\n  let s = Math.floor(ts % 60);\n  return m + ':' + (s < 10 ? '0' : '') + s;\n}\n\nfunction onClickBufferedRange(event) {\n  let canvas = $('#bufferedCanvas')[0];\n  let v = $('#video')[0];\n  let target = (event.clientX - canvas.offsetLeft) / canvas.width * v.duration;\n  v.currentTime = target;\n}\n\nfunction updateLevelInfo() {\n\n  if (!hls.levels) {\n    return;\n  }\n\n  let button_template = '<button type=\"button\" class=\"btn btn-sm ';\n  let button_enabled  = 'btn-primary\" ';\n  let button_disabled = 'btn-success\" ';\n\n  let html1 = button_template;\n  if(hls.autoLevelEnabled) {\n    html1 += button_enabled;\n  } else {\n    html1 += button_disabled;\n  }\n\n  html1 += 'onclick=\"hls.currentLevel=-1\">auto</button>';\n\n  let html2 = button_template;\n  if(hls.autoLevelEnabled) {\n    html2 += button_enabled;\n  } else {\n    html2 += button_disabled;\n  }\n\n  html2 += 'onclick=\"hls.loadLevel=-1\">auto</button>';\n\n  let html3 = button_template;\n  if(hls.autoLevelCapping === -1) {\n    html3 += button_enabled;\n  } else {\n    html3 += button_disabled;\n  }\n\n  html3 += 'onclick=\"levelCapping=hls.autoLevelCapping=-1;updateLevelInfo();onDemoConfigChanged();\">auto</button>';\n\n  let html4 = button_template;\n  if(hls.autoLevelEnabled) {\n    html4 += button_enabled;\n  } else {\n    html4 += button_disabled;\n  }\n\n  html4 += 'onclick=\"hls.nextLevel=-1\">auto</button>';\n\n  for (let i=0; i < hls.levels.length; i++) {\n    html1 += button_template;\n    if(hls.currentLevel === i) {\n      html1 += button_enabled;\n    } else {\n      html1 += button_disabled;\n    }\n\n    let levelName = i; \n    let label = level2label(i);\n    if(label) {\n      levelName += ' (' + level2label(i) + 'p)';\n    }\n\n    html1 += 'onclick=\"hls.currentLevel=' + i + '\">' + levelName + '</button>';\n\n    html2 += button_template;\n    if(hls.loadLevel === i) {\n      html2 += button_enabled;\n    } else {\n      html2 += button_disabled;\n    }\n\n    html2 += 'onclick=\"hls.loadLevel=' + i + '\">' + levelName + '</button>';\n\n    html3 += button_template;\n    if(hls.autoLevelCapping === i) {\n      html3 += button_enabled;\n    } else {\n      html3 += button_disabled;\n    }\n\n    html3 += 'onclick=\"levelCapping=hls.autoLevelCapping=' + i + ';updateLevelInfo();onDemoConfigChanged();\">' + levelName + '</button>';\n\n    html4 += button_template;\n    if(hls.nextLevel === i) {\n      html4 += button_enabled;\n    } else {\n      html4 += button_disabled;\n    }\n\n    html4 += 'onclick=\"hls.nextLevel=' + i + '\">' + levelName + '</button>';\n  }\n\n  let v = $('#video')[0];\n\n  if(v.videoWidth && v.videoHeight) {\n    $('#currentResolution').html(v.videoWidth + ' x ' + v.videoHeight);\n  }\n\n  if($('#currentLevelControl').html() != html1) {\n    $('#currentLevelControl').html(html1);\n  }\n\n  if($('#loadLevelControl').html() != html2) {\n    $('#loadLevelControl').html(html2);\n  }\n\n  if($('#levelCappingControl').html() != html3) {\n    $('#levelCappingControl').html(html3);\n  }\n\n  if($('#nextLevelControl').html() != html4) {\n    $('#nextLevelControl').html(html4);\n  }\n}\n\nfunction updateAudioTrackInfo() {\n  let button_template = '<button type=\"button\" class=\"btn btn-sm ';\n  let button_enabled  = 'btn-primary\" ';\n  let button_disabled = 'btn-success\" ';\n  let html1 = '';\n  let audioTrackId = hls.audioTrack, len = hls.audioTracks.length;\n\n  for (let i=0; i < len; i++) {\n    html1 += button_template;\n    if(audioTrackId === i) {\n      html1 += button_enabled;\n    } else {\n      html1 += button_disabled;\n    }\n\n    html1 += 'onclick=\"hls.audioTrack=' + i + '\">' + hls.audioTracks[i].name + '</button>';\n  }\n  $('#audioTrackControl').html(html1);\n}\n\nfunction level2label(index) {\n  if(hls && hls.levels.length-1 >= index) {\n    let level = hls.levels[index];\n    if (level.name) {\n      return level.name;\n    } else {\n      if (level.height) {\n        return(level.height + 'p / ' + Math.round(level.bitrate / 1024) + 'kb');\n      } else {\n        if(level.bitrate) {\n          return(Math.round(level.bitrate / 1024) + 'kb');\n        } else {\n          return null;\n        }\n      }\n    }\n  }\n}\n\nfunction getDemoConfigPropOrDefault(propName, defaultVal) {\n  return typeof demoConfig[propName] !== 'undefined' ? demoConfig[propName] : defaultVal; \n}\n\nfunction getURLParam(sParam, defaultValue) {\n  let sPageURL = window.location.search.substring(1);\n  let sURLVariables = sPageURL.split('&');\n  for (let i = 0; i < sURLVariables.length; i++) {\n    let sParameterName = sURLVariables[i].split('=');\n    if (sParameterName[0] == sParam)\n    {return 'undefined' == sParameterName[1] ? undefined : 'false' == sParameterName[1] ? false : sParameterName[1];}\n\n  }\n  return defaultValue;\n}\n\nfunction onDemoConfigChanged() {\n  const url = $('#streamURL').val();\n\n  demoConfig = {\n    enableStreaming,\n    autoRecoverError,\n    enableWorker,\n    dumpfMP4,\n    levelCapping,\n    limitMetrics,\n    defaultAudioCodec,\n    widevineLicenseUrl: escape(widevineLicenseUrl)\n  }\n\n  console.log(demoConfig)\n\n  const serializedDemoConfig = btoa(JSON.stringify(demoConfig))\n\n  const baseURL = document.URL.split('?')[0]\n  const permalinkURL = baseURL + `?src=${encodeURIComponent(url)}&demoConfig=${serializedDemoConfig}`\n\n  $('#StreamPermalink').html('<a href=\"' + permalinkURL + '\">' + permalinkURL + '</a>');\n}\n\nfunction createfMP4(type) {\n  if (fmp4Data[type].length) {\n    let blob = new Blob([arrayConcat(fmp4Data[type])], {\n      type: 'application/octet-stream'\n    });\n    let filename = type + '-' + new Date().toISOString() + '.mp4';\n    saveAs(blob, filename);\n    //$('body').append('<a download=\"hlsjs-' + filename + '\" href=\"' + window.URL.createObjectURL(blob) + '\">Download ' + filename + ' track</a><br>');\n  }\n}\n\nfunction arrayConcat(inputArray) {\n  let totalLength = inputArray.reduce( function(prev, cur) { return prev+cur.length; }, 0);\n  let result = new Uint8Array(totalLength);\n  let offset = 0;\n  inputArray.forEach(function(element) {\n    result.set(element, offset);\n    offset += element.length;\n  });\n  return result;\n}\n\nfunction hideAllTabs() {\n  $('#playbackControlTab').hide();\n  $('#qualityLevelControlTab').hide();\n  $('#audioTrackControlTab').hide();\n  $('#metricsDisplayTab').hide();\n  $('#statsDisplayTab').hide();\n}\n\nfunction toggleTab(tabElId) {\n  hideAllTabs();\n  hideMetrics();\n  $('#' + tabElId).show();\n}\n\nfunction appendLog(textElId, message) {\n  const el = $('#' + textElId)\n  let logText = el.text()\n  if (logText.length) {\n    logText += '\\n'\n  }\n  const timestamp = (Date.now() - startTime) / 1000\n  const newMessage = timestamp + ' | ' + message\n  logText += newMessage\n  // update\n  el.text(logText)\n}\n\nfunction logStatus(message) {\n  appendLog('statusOut', message)\n}\n\nfunction logError(message) {\n  appendLog('errorOut', message)\n}\n\n\n// WEBPACK FOOTER //\n// ./demo/main.js","export function sortObject(obj) {\n  if(typeof obj !== 'object') {\n    return obj;\n  }\n  let temp = {};\n  let keys = [];\n  for(let key in obj) {\n    keys.push(key);\n  }\n  keys.sort();\n  for(let index in keys) {\n    temp[keys[index]] = sortObject(obj[keys[index]]);\n  }\n  return temp;\n}\n\nexport function copyTextToClipboard(text) {\n  let textArea = document.createElement('textarea');\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.select();\n  try {\n    let successful = document.execCommand('copy');\n    let msg = successful ? 'successful' : 'unsuccessful';\n    console.log('Copying text command was ' + msg);\n  } catch (err) {\n    console.log('Oops, unable to copy');\n  }\n  document.body.removeChild(textArea);\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./demo/demo-utils.js","/**\n * Create test stream\n * @param {string} url\n * @param {string} description\n * @param {boolean} [live]\n * @param {boolean} [abr]\n * @param {string[]} [blacklist_ua]\n * @returns {{url: string, description: string, live: boolean, abr: boolean, blacklist_ua: string[]}}\n */\nfunction createTestStream (url, description, live = false, abr = true, blacklist_ua = []) {\n  return {\n    url,\n    description,\n    live,\n    abr,\n    blacklist_ua\n  };\n}\n\n/**\n * @param {Object} target\n * @param {Object} [config]\n * @returns {{url: string, description: string, live: boolean, abr: boolean, blacklist_ua: string[]}}\n */\nfunction createTestStreamWithConfig (target, config) {\n  if (typeof target !== 'object') {\n    throw new Error('target should be object');\n  }\n\n  const testStream = createTestStream(target.url, target.description, target.live, target.abr, target.blacklist_ua);\n\n  testStream.config = config;\n\n  return testStream;\n}\n\nmodule.exports = {\n  bbb: createTestStreamWithConfig({\n    url: 'https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8',\n    description: 'Big Buck Bunny - adaptive qualities'\n  },\n  {\n    // try to workaround test failing because of slow seek on Chrome/Win10\n    nudgeMaxRetry: 5\n  }\n  ),\n  bigBuckBunny480p: {\n    'url': 'https://video-dev.github.io/streams/x36xhzz/url_6/193039199_mp4_h264_aac_hq_7.m3u8',\n    'description': 'Big Buck Bunny - 480p only',\n    'live': false,\n    'abr': false,\n    'blacklist_ua': ['internet explorer']\n  },\n  arte: {\n    'url': 'https://video-dev.github.io/streams/test_001/stream.m3u8',\n    'description': 'ARTE China,ABR',\n    'live': false,\n    'abr': true\n  },\n  deltatreDAI: {\n    'url': 'https://video-dev.github.io/streams/dai-discontinuity-deltatre/manifest.m3u8',\n    'description': 'Ad-insertion in event stream',\n    'live': false,\n    'abr': false,\n    'blacklist_ua': ['internet explorer']\n  },\n  issue666: {\n    'url': 'http://www.streambox.fr/playlists/cisq0gim60007xzvi505emlxx.m3u8',\n    'description': 'hls.js/issues/666',\n    'live': false,\n    'abr': false,\n    'blacklist_ua': ['internet explorer']\n  },\n  issue649: {\n    'url': 'http://cdn3.screen9.com/media/c/W/cW87csHkxsgu5TV1qs78aA_auto_hls.m3u8?auth=qlUjeCtbVdtkDfZYrtveTIVUXX1yuSqgF8wfWabzKpX72r-d5upW88-FHuyRRdnZA_1PKRTGAtTt_6Z-aj22kw',\n    'description': 'hls.js/issues/649',\n    'live': false,\n    'abr': false\n  },\n  closedCaptions: {\n    'url': 'http://playertest.longtailvideo.com/adaptive/captions/playlist.m3u8',\n    'description': 'CNN special report, with CC',\n    'live': false,\n    'abr': false,\n    'blacklist_ua': ['safari']\n  },\n  oceansAES: {\n    'url': 'http://playertest.longtailvideo.com/adaptive/oceans_aes/oceans_aes.m3u8',\n    'description': 'AES encrypted,ABR',\n    'live': false,\n    'abr': true\n  },\n  bbbAES: {\n    'url': 'http://streambox.fr/playlists/sample_aes/index.m3u8',\n    'description': 'SAMPLE-AES encrypted',\n    'live': false,\n    'abr': false\n  },\n  mp3Audio: {\n    'url': 'https://player.webvideocore.net/CL1olYogIrDWvwqiIKK7eLBkzvO18gwo9ERMzsyXzwt_t-ya8ygf2kQBZww38JJT/8i4vvznv8408.m3u8',\n    'description': 'MP3 VOD demo',\n    'live': false,\n    'abr': false,\n    'blacklist_ua': ['safari']\n  },\n  mpegAudioOnly: {\n    'url': 'https://pl.streamingvideoprovider.com/mp3-playlist/playlist.m3u8',\n    'description': 'MPEG Audio Only demo',\n    'live': false,\n    'abr': false,\n    'blacklist_ua': ['internet explorer', 'MicrosoftEdge', 'safari', 'firefox']\n  },\n  fmp4: {\n    'url': 'https://storage.googleapis.com/shaka-demo-assets/angel-one-hls/hls.m3u8',\n    'description': 'HLS fMP4 Angel-One multiple audio-tracks',\n    'live': false,\n    'abr': false,\n    'blacklist_ua': ['safari', 'internet explorer']\n  },\n  fmp4Bitmovin: {\n    'url': 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s-fmp4/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n    'description': 'HLS fMP4 by Bitmovin',\n    'live': false,\n    'abr': true,\n    'blacklist_ua': ['safari', 'internet explorer']\n  },\n  offset_pts: {\n    'url': 'https://video-dev.github.io/streams/pts_shift/master.m3u8',\n    'description': 'DK Turntable, PTS shifted by 2.3s',\n    'live': false,\n    'abr': false\n  },\n  uspHLSAteam: createTestStream(\n    'http://demo.unified-streaming.com/video/ateam/ateam.ism/ateam.m3u8?session_id=27199',\n    'A-Team movie trailer - HLS by Unified Streaming Platform'\n  ),\n  angelOneShakaWidevine: createTestStreamWithConfig({\n    url: 'https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine-hls/hls.m3u8',\n    description: 'Shaka-packager Widevine DRM (EME) HLS-fMP4 - Angel One Demo',\n    blacklist_ua: ['firefox', 'safari', 'internet explorer']\n  },\n  {\n    widevineLicenseUrl: 'https://cwip-shaka-proxy.appspot.com/no_auth',\n    emeEnabled: true\n  }\n  ),\n  audioOnlyMultipleLevels: {\n    'url': 'https://s3.amazonaws.com/bob.jwplayer.com/~alex/121628/new_master.m3u8',\n    'description': 'Multiple non-alternate audio levels',\n    'live': false,\n    'abr': false\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./tests/test-streams.js"],"sourceRoot":""}