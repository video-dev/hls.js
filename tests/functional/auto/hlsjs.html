<html>
   <head>
<script src="/dist/hls.js"></script>
   </head>
   <body>
<video id="video"></video>
<script>

function testLoadedData(callback) {
  if(Hls.isSupported()) {
    var video = document.getElementById('video');
    try {
      var hls = new Hls({debug:true});
      hls.loadSource('http://www.streambox.fr/playlists/test_001/stream.m3u8');
      hls.attachMedia(video);
      hls.on(Hls.Events.MANIFEST_PARSED,function() {
        video.play();
      });
      hls.on(Hls.Events.ERROR,function(event,data) {
        callback(data.details);
      }.bind(this));
      video.onloadeddata = function() {
        callback('loadeddata');
      }.bind(this);
      video.onerror = function(event) {
        callback('video_error_' + video.error.code);
      }.bind(this);
    } catch(err) {
      callback('exception');
    }
  } else {
    callback('notSupported');
  }
}
</script>
   </body>
 </html>

